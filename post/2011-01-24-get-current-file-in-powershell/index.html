<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Get current file in PowerShell - Tim Van Wassenhove</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta itemprop="name" content="Get current file in PowerShell">
<meta itemprop="description" content="A while ago i wrote a small script to take care of deployment. Configuring the source folders went as following:
param( $BaseDir = (Get-Location).Path, $WebDir = (Resolve-Path &#34;$BaseDir\web&#34;), $DatabaseDir = (Resolve-Path &#34;$BaseDir\database&#34;) ) The problem with this code is that it only works when your current working directory is set to the location of this script. An administrator (or build system) invokes the script as following:
PS C:\Users\Admin&gt;&amp; &#39;D:\Deployments\20110124\Deploy.ps1&#39;; Because we don&rsquo;t want to annoy the consumer of our script with the burden of making sure he is in the correct directory we modified our code as following:">
<meta itemprop="datePublished" content="2011-01-24T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-01-04T14:49:35+01:00" />
<meta itemprop="wordCount" content="116">



<meta itemprop="keywords" content="PowerShell," />
<meta property="og:title" content="Get current file in PowerShell" />
<meta property="og:description" content="A while ago i wrote a small script to take care of deployment. Configuring the source folders went as following:
param( $BaseDir = (Get-Location).Path, $WebDir = (Resolve-Path &#34;$BaseDir\web&#34;), $DatabaseDir = (Resolve-Path &#34;$BaseDir\database&#34;) ) The problem with this code is that it only works when your current working directory is set to the location of this script. An administrator (or build system) invokes the script as following:
PS C:\Users\Admin&gt;&amp; &#39;D:\Deployments\20110124\Deploy.ps1&#39;; Because we don&rsquo;t want to annoy the consumer of our script with the burden of making sure he is in the correct directory we modified our code as following:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://timvw.be/post/2011-01-24-get-current-file-in-powershell/" />
<meta property="article:published_time" content="2011-01-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-04T14:49:35+01:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Get current file in PowerShell"/>
<meta name="twitter:description" content="A while ago i wrote a small script to take care of deployment. Configuring the source folders went as following:
param( $BaseDir = (Get-Location).Path, $WebDir = (Resolve-Path &#34;$BaseDir\web&#34;), $DatabaseDir = (Resolve-Path &#34;$BaseDir\database&#34;) ) The problem with this code is that it only works when your current working directory is set to the location of this script. An administrator (or build system) invokes the script as following:
PS C:\Users\Admin&gt;&amp; &#39;D:\Deployments\20110124\Deploy.ps1&#39;; Because we don&rsquo;t want to annoy the consumer of our script with the burden of making sure he is in the correct directory we modified our code as following:"/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="https://timvw.be/css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://timvw.be/js/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="https://timvw.be/">Tim Van Wassenhove</a></h1>
	<div class="site-description"><nav class="nav social">
			<ul class="flat"><li><a href="https://twitter.com/timvw" title="Twitter"><i data-feather="twitter"></i></a></li><li><a href="https://github.com/timvw" title="Github"><i data-feather="github"></i></a></li><li><a href="https://www.linkedin.com/in/timvanwassenhove" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="https://timvw.be/feed.xml" title="RSS"><i data-feather="rss"></i></a></li></ul>
		</nav></div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/post">All posts</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">24</span>
							<span class="rest">Jan 2011</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Get current file in PowerShell</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>A while ago i wrote a small script to take care of deployment. Configuring the source folders went as following:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#000;font-weight:bold">param</span>(  
  <span style="color:#008080">$BaseDir</span> = (<span style="color:#0086b3">Get-Location</span>).Path,  
  <span style="color:#008080">$WebDir</span> = (<span style="color:#0086b3">Resolve-Path</span> <span style="color:#d14">&#34;$BaseDir\web&#34;</span>),  
  <span style="color:#008080">$DatabaseDir</span> = (<span style="color:#0086b3">Resolve-Path</span> <span style="color:#d14">&#34;$BaseDir\database&#34;</span>)
)
</code></pre></div><p>The problem with this code is that it only works when your current working directory is set to the location of this script. An administrator (or build system) invokes the script as following:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#0086b3">PS </span>C:\Users\Admin&gt;&amp; <span style="color:#d14">&#39;D:\Deployments\20110124\Deploy.ps1&#39;</span>;
</code></pre></div><p>Because we don&rsquo;t want to annoy the consumer of our script with the burden of making sure he is in the correct directory we modified our code as following:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#000;font-weight:bold">param</span>(  
  <span style="color:#008080">$BaseDir</span> = (<span style="color:#0086b3">Split-Path</span> <span style="color:#008080">$MyInvocation</span>.MyCommand.Definition),  
  <span style="color:#008080">$WebDir</span> = (<span style="color:#0086b3">Resolve-Path</span> <span style="color:#d14">&#34;$BaseDir\web&#34;</span>),	  
  <span style="color:#008080">$DatabaseDir</span> = (<span style="color:#0086b3">Resolve-Path</span> <span style="color:#d14">&#34;$BaseDir\database&#34;</span>)  
)  
</code></pre></div><p>A quick win ðŸ™‚</p>

			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="/tags/PowerShell">PowerShell</a></li>
							
						</ul>
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>2021  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-2585435-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script>feather.replace()</script>
</body>
</html>
