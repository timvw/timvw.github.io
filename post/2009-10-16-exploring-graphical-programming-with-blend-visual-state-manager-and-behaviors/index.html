<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Exploring graphical programming with Blend, Visual State Manager and Behaviors - Tim Van Wassenhove</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta itemprop="name" content="Exploring graphical programming with Blend, Visual State Manager and Behaviors">
<meta itemprop="description" content="A while ago i presented the ControlStateMachine and in Silverlight this concept is implemented as the Visual State Manager.
In my sokoban implementation i have a cellview which exists out of 6 canvasses but only two of them (one for the cell type and one for the piece type) are visible at any given point in time. I have implemented this with 6 properties CanvasXVisible (with X being Player, Box, Wall, Goal, Floor and Cell) in my ViewModel but a State Machine / Manager may help clarify how the visibility of the canvasses are related.">
<meta itemprop="datePublished" content="2009-10-16T00:00:00+00:00" />
<meta itemprop="dateModified" content="2009-10-16T00:00:00+00:00" />
<meta itemprop="wordCount" content="319">



<meta itemprop="keywords" content="Silverlight,WPF," />
<meta property="og:title" content="Exploring graphical programming with Blend, Visual State Manager and Behaviors" />
<meta property="og:description" content="A while ago i presented the ControlStateMachine and in Silverlight this concept is implemented as the Visual State Manager.
In my sokoban implementation i have a cellview which exists out of 6 canvasses but only two of them (one for the cell type and one for the piece type) are visible at any given point in time. I have implemented this with 6 properties CanvasXVisible (with X being Player, Box, Wall, Goal, Floor and Cell) in my ViewModel but a State Machine / Manager may help clarify how the visibility of the canvasses are related." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/2009-10-16-exploring-graphical-programming-with-blend-visual-state-manager-and-behaviors/" />
<meta property="article:published_time" content="2009-10-16T00:00:00+00:00" />
<meta property="article:modified_time" content="2009-10-16T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Exploring graphical programming with Blend, Visual State Manager and Behaviors"/>
<meta name="twitter:description" content="A while ago i presented the ControlStateMachine and in Silverlight this concept is implemented as the Visual State Manager.
In my sokoban implementation i have a cellview which exists out of 6 canvasses but only two of them (one for the cell type and one for the piece type) are visible at any given point in time. I have implemented this with 6 properties CanvasXVisible (with X being Player, Box, Wall, Goal, Floor and Cell) in my ViewModel but a State Machine / Manager may help clarify how the visibility of the canvasses are related."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="js/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="">Tim Van Wassenhove</a></h1>
	<div class="site-description"><nav class="nav social">
			<ul class="flat"><li><a href="https://twitter.com/timvw" title="Twitter"><i data-feather="twitter"></i></a></li><li><a href="https://github.com/timvw" title="Github"><i data-feather="github"></i></a></li><li><a href="https://www.linkedin.com/in/timvanwassenhove" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="https://timvw.be/feed.xml" title="RSS"><i data-feather="rss"></i></a></li></ul>
		</nav></div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/post">All posts</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">16</span>
							<span class="rest">Oct 2009</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Exploring graphical programming with Blend, Visual State Manager and Behaviors</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>A while ago i presented the <a href="http://www.timvw.be/experimenting-with-controlstatemachine-and-fluent-interfaces/">ControlStateMachine</a> and in Silverlight this concept is implemented as the <a href="http://windowsclient.net/wpf/wpf35/wpf-35sp1-toolkit-visual-state-manager-overview.aspx">Visual State Manager</a>.</p>
<p>In my sokoban implementation i have a cellview which exists out of 6 canvasses but only two of them (one for the cell type and one for the piece type) are visible at any given point in time. I have implemented this with 6 properties CanvasXVisible (with X being Player, Box, Wall, Goal, Floor and Cell) in my ViewModel but a State Machine / Manager may help clarify how the visibility of the canvasses are related. Here are the 2 visual state groups and their states that i would need for the CellView</p>
<p><img src="http://www.timvw.be/wp-content/images/cellview-vsm.png" alt="screenshot of visual state manager in expression blend"></p>
<p>As you can see there is quite a lof of XAML involved to make the correct canvas visible:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;visualState</span> <span style="color:#a6e22e">x:Name=</span><span style="color:#e6db74">&#34;Space1&#34;</span><span style="color:#f92672">&gt;</span>
 <span style="color:#f92672">&lt;storyboard&gt;</span>
  <span style="color:#f92672">&lt;objectAnimationUsingKeyFrames</span> <span style="color:#a6e22e">BeginTime=</span><span style="color:#e6db74">&#34;00:00:00&#34;</span>  <span style="color:#a6e22e">Duration=</span><span style="color:#e6db74">&#34;00:00:00.0010000&#34;</span>
   <span style="color:#a6e22e">Storyboard.TargetName=</span><span style="color:#e6db74">&#34;Space&#34;</span>  <span style="color:#a6e22e">Storyboard.TargetProperty=</span><span style="color:#e6db74">&#34;(UIElement.Visibility)&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;discreteObjectKeyFrame</span> <span style="color:#a6e22e">KeyTime=</span><span style="color:#e6db74">&#34;00:00:00&#34;</span><span style="color:#f92672">&gt;</span>
     <span style="color:#f92672">&lt;discreteObjectKeyFrame.Value&gt;</span>
      <span style="color:#f92672">&lt;visibility&gt;</span>Visible<span style="color:#f92672">&lt;/visibility&gt;</span>
     <span style="color:#f92672">&lt;/discreteObjectKeyFrame.Value&gt;</span>
    <span style="color:#f92672">&lt;/discreteObjectKeyFrame&gt;</span>
   <span style="color:#f92672">&lt;/objectAnimationUsingKeyFrames&gt;</span>
  <span style="color:#f92672">&lt;/storyboard&gt;</span>
<span style="color:#f92672">&lt;/visualState&gt;</span>
</code></pre></div><p>For a simple modification to the Visibility property this seems like overkill but in many situations you will want to change more than this one property.</p>
<p>With the aid of the behaviors that come with Blend i can quickly add a couple of radio buttons, toss in some gotostate actions and end up with an interactive application:</p>
<p><!-- raw HTML omitted --></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;radioButton</span> <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;63&#34;</span> <span style="color:#a6e22e">Canvas.Left=</span><span style="color:#e6db74">&#34;8&#34;</span> <span style="color:#a6e22e">Canvas.Top=</span><span style="color:#e6db74">&#34;172&#34;</span> <span style="color:#a6e22e">Content=</span><span style="color:#e6db74">&#34;Wall&#34;</span> <span style="color:#a6e22e">GroupName=</span><span style="color:#e6db74">&#34;PieceTypes&#34;</span><span style="color:#f92672">&gt;</span>
 <span style="color:#f92672">&lt;i:Interaction.Triggers&gt;</span>
  <span style="color:#f92672">&lt;i:EventTrigger</span> <span style="color:#a6e22e">EventName=</span><span style="color:#e6db74">&#34;Checked&#34;</span><span style="color:#f92672">&gt;</span>
   <span style="color:#f92672">&lt;ic:GoToStateAction</span> <span style="color:#a6e22e">StateName=</span><span style="color:#e6db74">&#34;Wall1&#34;</span><span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;/i:EventTrigger&gt;</span>
 <span style="color:#f92672">&lt;/i:Interaction.Triggers&gt;</span>
<span style="color:#f92672">&lt;/radioButton&gt;</span>
</code></pre></div><p>Feel free to try it yourself by changing the radio buttons</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;div</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;exploringVSM&#34;</span><span style="color:#f92672">&gt;</span>
 <span style="color:#f92672">&lt;object</span> <span style="color:#a6e22e">data=</span><span style="color:#e6db74">&#34;data:application/x-silverlight-2,&#34;</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;application/x-silverlight-2&#34;</span>  <span style="color:#a6e22e">width=</span><span style="color:#e6db74">&#34;300&#34;</span> <span style="color:#a6e22e">height=</span><span style="color:#e6db74">&#34;240&#34;</span><span style="color:#f92672">&gt;</span>
  <span style="color:#f92672">&lt;param</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;source&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;http://www.timvw.be/ClientBin/ExploringVSM.xap&#34;</span><span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;param</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;onError&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;onSilverlightError&#34;</span> <span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;param</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;background&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;white&#34;</span> <span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;param</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;minRuntimeVersion&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;3.0.40624.0&#34;</span> <span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;param</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;autoUpgrade&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;a</span> <span style="color:#a6e22e">href=</span><span style="color:#e6db74">&#34;http://go.microsoft.com/fwlink/?LinkID=149156&amp;#038;v=3.0.40624.0&#34;</span> <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;text-decoration:none&#34;</span><span style="color:#f92672">&gt;</span>
   <span style="color:#f92672">&lt;img</span> <span style="color:#a6e22e">src=</span><span style="color:#e6db74">&#34;http://go.microsoft.com/fwlink/?LinkId=108181&#34;</span> <span style="color:#a6e22e">alt=</span><span style="color:#e6db74">&#34;Get Microsoft Silverlight&#34;</span> <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;border-style:none&#34;</span><span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;/a&gt;</span>
 <span style="color:#f92672">&lt;/object&gt;</span>
 <span style="color:#f92672">&lt;iframe</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;_sl_historyFrame&#34;</span> <span style="color:#a6e22e">style=</span><span style="color:#e6db74">&#34;visibility:hidden;height:0px;width:0px;border:0px&#34;</span><span style="color:#f92672">&gt;&lt;/iframe&gt;</span>
<span style="color:#f92672">&lt;/div&gt;&lt;/div&gt;</span>
</code></pre></div><p>Conclusion: All in all it is relatively easy to create interactive applications using Blend without writing a single line of code.
Too bad that the behaviors are in an Expression assembly and don&rsquo;t come with standard Silverlight.
Another attention point is the maintainability of this new style of programming.</p>

			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="/tags/Silverlight">Silverlight</a></li>
							
							<li><a href="/tags/WPF">WPF</a></li>
							
						</ul>
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>2021  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-2585435-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script>feather.replace()</script>
</body>
</html>
