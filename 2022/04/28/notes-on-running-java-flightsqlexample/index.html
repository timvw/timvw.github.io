<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Notes on running (java) FlightSqlExample - Tim Van Wassenhove</title><meta name="viewport" content="width=device-width, initial-scale=1">
	
  <meta itemprop="name" content="Notes on running (java) FlightSqlExample">
  <meta itemprop="description" content="Here are my notes on how to run the sample java Arrow Flight SQL server and client.
Clone https://github.com/apache/arrow/: git clone git@github.com:apache/arrow.git Install snapshot versions of arrow: cd java mvn clean install -DskipTests=true Add Application entry point: cd flight/flight-sql cat &lt;&lt; EOF &gt; ./src/test/java/org/apache/arrow/flight/sql/example/Main.java package org.apache.arrow.flight.sql.example; import org.apache.arrow.flight.FlightServer; import org.apache.arrow.flight.Location; import org.apache.arrow.memory.BufferAllocator; import org.apache.arrow.memory.RootAllocator; public class Main { public static void main(String args[]) throws Exception { BufferAllocator allocator = new RootAllocator(Integer.MAX_VALUE); final String LOCALHOST = &#34;localhost&#34;; final Location serverLocation = Location.forGrpcInsecure(LOCALHOST, 52358); final FlightServer server = FlightServer.builder(allocator, serverLocation, new FlightSqlExample(serverLocation)) .build() .start(); System.out.println(&#34;server is up and running at port: &#34; &#43; server.getPort()); Thread.sleep(Long.MAX_VALUE); } } EOF 4. Run the server: ```bash mvn test exec:java -Dcheckstyle.skip -DskipTests=true -Drat.skip=true -Dexec.mainClass=&#34;org.apache.arrow.flight.sql.example.Main&#34; -Dexec.classpathScope=&#34;test&#34; Compile the client: mvn compile -Dcheckstyle.skip -Drat.skip=true Run client without arguments: mvn exec:java -Dcheckstyle.skip -Drat.skip=true \ -Dexec.mainClass=&#34;org.apache.arrow.flight.sql.example.FlightSqlClientDemoApp&#34; Output:">
  <meta itemprop="datePublished" content="2022-04-28T00:00:00+00:00">
  <meta itemprop="dateModified" content="2022-04-28T10:53:28+02:00">
  <meta itemprop="wordCount" content="253"><meta property="og:url" content="https://timvw.be/2022/04/28/notes-on-running-java-flightsqlexample/">
  <meta property="og:site_name" content="Tim Van Wassenhove">
  <meta property="og:title" content="Notes on running (java) FlightSqlExample">
  <meta property="og:description" content="Here are my notes on how to run the sample java Arrow Flight SQL server and client.
Clone https://github.com/apache/arrow/: git clone git@github.com:apache/arrow.git Install snapshot versions of arrow: cd java mvn clean install -DskipTests=true Add Application entry point: cd flight/flight-sql cat &lt;&lt; EOF &gt; ./src/test/java/org/apache/arrow/flight/sql/example/Main.java package org.apache.arrow.flight.sql.example; import org.apache.arrow.flight.FlightServer; import org.apache.arrow.flight.Location; import org.apache.arrow.memory.BufferAllocator; import org.apache.arrow.memory.RootAllocator; public class Main { public static void main(String args[]) throws Exception { BufferAllocator allocator = new RootAllocator(Integer.MAX_VALUE); final String LOCALHOST = &#34;localhost&#34;; final Location serverLocation = Location.forGrpcInsecure(LOCALHOST, 52358); final FlightServer server = FlightServer.builder(allocator, serverLocation, new FlightSqlExample(serverLocation)) .build() .start(); System.out.println(&#34;server is up and running at port: &#34; &#43; server.getPort()); Thread.sleep(Long.MAX_VALUE); } } EOF 4. Run the server: ```bash mvn test exec:java -Dcheckstyle.skip -DskipTests=true -Drat.skip=true -Dexec.mainClass=&#34;org.apache.arrow.flight.sql.example.Main&#34; -Dexec.classpathScope=&#34;test&#34; Compile the client: mvn compile -Dcheckstyle.skip -Drat.skip=true Run client without arguments: mvn exec:java -Dcheckstyle.skip -Drat.skip=true \ -Dexec.mainClass=&#34;org.apache.arrow.flight.sql.example.FlightSqlClientDemoApp&#34; Output:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-04-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2022-04-28T10:53:28+02:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Notes on running (java) FlightSqlExample">
  <meta name="twitter:description" content="Here are my notes on how to run the sample java Arrow Flight SQL server and client.
Clone https://github.com/apache/arrow/: git clone git@github.com:apache/arrow.git Install snapshot versions of arrow: cd java mvn clean install -DskipTests=true Add Application entry point: cd flight/flight-sql cat &lt;&lt; EOF &gt; ./src/test/java/org/apache/arrow/flight/sql/example/Main.java package org.apache.arrow.flight.sql.example; import org.apache.arrow.flight.FlightServer; import org.apache.arrow.flight.Location; import org.apache.arrow.memory.BufferAllocator; import org.apache.arrow.memory.RootAllocator; public class Main { public static void main(String args[]) throws Exception { BufferAllocator allocator = new RootAllocator(Integer.MAX_VALUE); final String LOCALHOST = &#34;localhost&#34;; final Location serverLocation = Location.forGrpcInsecure(LOCALHOST, 52358); final FlightServer server = FlightServer.builder(allocator, serverLocation, new FlightSqlExample(serverLocation)) .build() .start(); System.out.println(&#34;server is up and running at port: &#34; &#43; server.getPort()); Thread.sleep(Long.MAX_VALUE); } } EOF 4. Run the server: ```bash mvn test exec:java -Dcheckstyle.skip -DskipTests=true -Drat.skip=true -Dexec.mainClass=&#34;org.apache.arrow.flight.sql.example.Main&#34; -Dexec.classpathScope=&#34;test&#34; Compile the client: mvn compile -Dcheckstyle.skip -Drat.skip=true Run client without arguments: mvn exec:java -Dcheckstyle.skip -Drat.skip=true \ -Dexec.mainClass=&#34;org.apache.arrow.flight.sql.example.FlightSqlClientDemoApp&#34; Output:">
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="https://timvw.be/css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://timvw.be/js/main.js"></script>
	<link href="https://github.com/timvw" rel="me">
    <link href="https://timvw.be/" rel="me">
    <link href="https://fosstodon.org/@timvw" rel="me">
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="https://timvw.be/">Tim Van Wassenhove</a></h1>
	<div class="site-description"><p>Passionate geek, interested in Technology. Proud father of two</p><nav class="nav social">
			<ul class="flat"><li><a href="https://twitter.com/timvw" title="Twitter"><i data-feather="twitter"></i></a></li><li><a href="https://github.com/timvw" title="Github"><i data-feather="github"></i></a></li><li><a href="https://www.linkedin.com/in/timvanwassenhove" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="https://timvw.be/feed.xml" title="RSS"><i data-feather="rss"></i></a></li><li><a rel="me" href="https://fosstodon.org/@timvw" class="masto-link" ></a></li>
			</ul>
		
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="../../../../">Home</a>
			</li>
			
			<li>
				<a href="../../../../posts">All posts</a>
			</li>
			
			<li>
				<a href="../../../../tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">28</span>
							<span class="rest">Apr 2022</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Notes on running (java) FlightSqlExample</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>Here are my notes on how to run the sample java <a href="https://arrow.apache.org/blog/2022/02/16/introducing-arrow-flight-sql/">Arrow Flight SQL</a> server and client.</p>
<ol>
<li>Clone <a href="https://github.com/apache/arrow/">https://github.com/apache/arrow/</a>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone git@github.com:apache/arrow.git
</span></span></code></pre></div><ol start="2">
<li>Install snapshot versions of arrow:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#6639ba">cd</span> java
</span></span><span style="display:flex;"><span>mvn clean install -DskipTests<span style="color:#0550ae">=</span><span style="color:#6639ba">true</span>
</span></span></code></pre></div><ol start="3">
<li>Add Application entry point:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#6639ba">cd</span> flight/flight-sql
</span></span><span style="display:flex;"><span>cat <span style="color:#0a3069">&lt;&lt; EOF &gt; ./src/test/java/org/apache/arrow/flight/sql/example/Main.java
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">package org.apache.arrow.flight.sql.example;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">import org.apache.arrow.flight.FlightServer;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">import org.apache.arrow.flight.Location;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">import org.apache.arrow.memory.BufferAllocator;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">import org.apache.arrow.memory.RootAllocator;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">public class Main {
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">    public static void main(String args[]) throws Exception {
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">        BufferAllocator allocator = new RootAllocator(Integer.MAX_VALUE);
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">        final String LOCALHOST = &#34;localhost&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">        final Location serverLocation = Location.forGrpcInsecure(LOCALHOST, 52358);
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">        final FlightServer server = FlightServer.builder(allocator, serverLocation, new FlightSqlExample(serverLocation))
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">                .build()
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">                .start();
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">        System.out.println(&#34;server is up and running at port: &#34; + server.getPort());
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">        Thread.sleep(Long.MAX_VALUE);
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">    }
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">}
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>4. Run the server:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0a3069">```</span>bash
</span></span><span style="display:flex;"><span>mvn <span style="color:#6639ba">test</span> exec:java -Dcheckstyle.skip -DskipTests<span style="color:#0550ae">=</span><span style="color:#6639ba">true</span> -Drat.skip<span style="color:#0550ae">=</span><span style="color:#6639ba">true</span> -Dexec.mainClass<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;org.apache.arrow.flight.sql.example.Main&#34;</span> -Dexec.classpathScope<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;test&#34;</span>
</span></span></code></pre></div><ol start="5">
<li>Compile the client:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mvn compile -Dcheckstyle.skip -Drat.skip<span style="color:#0550ae">=</span><span style="color:#6639ba">true</span>
</span></span></code></pre></div><ol start="6">
<li>Run client without arguments:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mvn exec:java -Dcheckstyle.skip -Drat.skip<span style="color:#0550ae">=</span><span style="color:#6639ba">true</span> <span style="color:#0a3069">\
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069"></span>    -Dexec.mainClass<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;org.apache.arrow.flight.sql.example.FlightSqlClientDemoApp&#34;</span>
</span></span></code></pre></div><p>Output:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Missing required option: command
</span></span><span style="display:flex;"><span>usage: FlightSqlClientDemoApp -host localhost -port 32010 ...
</span></span><span style="display:flex;"><span> -catalog,--catalog         Catalog
</span></span><span style="display:flex;"><span> -command,--command &lt;arg&gt;   Method to run
</span></span><span style="display:flex;"><span> -host,--host &lt;arg&gt;         Host to connect to
</span></span><span style="display:flex;"><span> -port,--port &lt;arg&gt;         Port to connect to
</span></span><span style="display:flex;"><span> -query,--query             Query
</span></span><span style="display:flex;"><span> -schema,--schema           Schema
</span></span><span style="display:flex;"><span> -table,--table             Table
</span></span><span style="display:flex;"><span>[WARNING] 
</span></span><span style="display:flex;"><span>org.apache.commons.cli.MissingOptionException: Missing required options: host, port, command
</span></span></code></pre></div><ol start="7">
<li>List tables in APP schema:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mvn exec:java -Dcheckstyle.skip -Drat.skip<span style="color:#0550ae">=</span><span style="color:#6639ba">true</span> <span style="color:#0a3069">\
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069"></span>    -Dexec.mainClass<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;org.apache.arrow.flight.sql.example.FlightSqlClientDemoApp&#34;</span> <span style="color:#0a3069">\
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069"></span>    -Dexec.args<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;-host localhost -port 52358 -command GetTables -schema APP&#34;</span>
</span></span></code></pre></div><p>Output:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>catalog_name    db_schema_name  table_name      table_type
</span></span><span style="display:flex;"><span>null    APP     FOREIGNTABLE    TABLE
</span></span><span style="display:flex;"><span>null    APP     INTTABLE        TABLE
</span></span></code></pre></div><ol start="8">
<li>Execute a query:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mvn exec:java -Dcheckstyle.skip -Drat.skip<span style="color:#0550ae">=</span><span style="color:#6639ba">true</span> <span style="color:#0a3069">\
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069"></span>    -Dexec.mainClass<span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;org.apache.arrow.flight.sql.example.FlightSqlClientDemoApp&#34;</span> <span style="color:#0a3069">\
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069"></span>    -Dexec.args<span style="color:#0550ae">=</span><span style="color:#0a3069">&#39;-host localhost -port 52358 -command Execute -query &#34;select * from APP.INTTABLE&#34;&#39;</span>
</span></span></code></pre></div><p>Output:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>ID      KEYNAME VALUE   FOREIGNID
</span></span><span style="display:flex;"><span>1       one     1       1
</span></span><span style="display:flex;"><span>2       zero    0       1
</span></span><span style="display:flex;"><span>3       negative one    -1      1
</span></span></code></pre></div>
			</div>

			<div class="tags">
				
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>2025  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-9DP4SV12YW"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-9DP4SV12YW');
        }
      </script><script>feather.replace()</script>
</body>
</html>
