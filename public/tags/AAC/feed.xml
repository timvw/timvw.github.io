<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>AAC on Tim Van Wassenhove&#39;s blog</title>
    <link>/tags/AAC/</link>
    <description>Recent content in AAC on Tim Van Wassenhove&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 20 Nov 2010 00:00:00 +0000</lastBuildDate><atom:link href="/tags/AAC/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Convert AAC/M4A files to MP3 with VLC and PowerShell</title>
      <link>/post/2010-11-20-convert-aacm4a-files-to-mp3-with-vlc-and-powershell/</link>
      <pubDate>Sat, 20 Nov 2010 00:00:00 +0000</pubDate>
      
      <guid>/post/2010-11-20-convert-aacm4a-files-to-mp3-with-vlc-and-powershell/</guid>
      <description>
        
          &lt;p&gt;Here is a way to convert your AAC/M4A files to MP3 using &lt;a href=&#34;http://www.videolan.org/vlc&#34;&gt;VLC&lt;/a&gt; media player:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;vlc.exe -I dummy old.m4a :sout=#transcode{acodec=$codec,vcodec=dummy}:standard{access=file,mux=raw,dst=new.mp3} vlc://quit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Let&amp;rsquo;s wrap this command in a bit of PowerShell:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; ConvertToMp3(&lt;span style=&#34;color:#66d9ef&#34;&gt;[switch]&lt;/span&gt; $inputObject, &lt;span style=&#34;color:#66d9ef&#34;&gt;[string]&lt;/span&gt; $vlc = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C:\Program Files\VideoLAN\VLC\vlc.exe&amp;#39;&lt;/span&gt;) {      
  &lt;span style=&#34;color:#66d9ef&#34;&gt;PROCESS&lt;/span&gt; {            
    $codec = &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mp3&amp;#39;&lt;/span&gt;;        
    $oldFile = $_;

    $newFile = $oldFile.FullName.Replace($oldFile.Extension, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;.$codec&amp;#34;&lt;/span&gt;);

    &amp;amp;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$vlc&amp;#34;&lt;/span&gt; -I dummy &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$oldFile&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:sout=#transcode{acodec=$codec,vcodec=dummy}:standard{access=file,mux=raw,dst=\&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;`&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$newFile\&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;`&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}&amp;#34;&lt;/span&gt; vlc&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt;//quit | out-null;

    &lt;span style=&#34;color:#75715e&#34;&gt;#Only remove source files when you are sure that the conversion works as you want          &lt;/span&gt;
    &lt;span style=&#34;color:#75715e&#34;&gt;#Remove-Item $oldFile;&lt;/span&gt;
  }  
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And now we can use this function for *all* m4a files in a given folder:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; ConvertAllToMp3(&lt;span style=&#34;color:#66d9ef&#34;&gt;[string]&lt;/span&gt; $sourcePath) {
  Get-ChildItem &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;$sourcePath\*&amp;#34;&lt;/span&gt; -recurse -include *.m4a | ConvertToMp3;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Using the function is as easy as:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;ConvertAllToMp3 &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C:\Users\timvw\Music&amp;#39;&lt;/span&gt;;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
        
      </description>
    </item>
    
  </channel>
</rss>
