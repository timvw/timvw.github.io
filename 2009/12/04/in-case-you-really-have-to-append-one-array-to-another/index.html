<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>In case you really have to Append one array to another - Tim Van Wassenhove</title><meta name="viewport" content="width=device-width, initial-scale=1">
	
  <meta itemprop="name" content="In case you really have to Append one array to another">
  <meta itemprop="description" content="Here is another problem i’ve seen people solve once too many: Append one array to another. STOP. Revisit the problem. Can’t you simply use List and move on to solving actual business problems? In case you really can’t get rid of the arrays read the following
Given() { source = new[] { SourceElement }; destination = new[] { DestinationElement }; } and
When() { source.AppendTo(ref destination); } and
ThenTheDestinationShouldStillHaveTheDestinationElement() { Assert.AreEqual(DestinationElement, destination[0]); } and">
  <meta itemprop="datePublished" content="2009-12-04T00:00:00+00:00">
  <meta itemprop="dateModified" content="2021-01-04T22:47:36+01:00">
  <meta itemprop="wordCount" content="148">
  <meta itemprop="keywords" content="CSharp,Patterns"><meta property="og:url" content="https://timvw.be/2009/12/04/in-case-you-really-have-to-append-one-array-to-another/">
  <meta property="og:site_name" content="Tim Van Wassenhove">
  <meta property="og:title" content="In case you really have to Append one array to another">
  <meta property="og:description" content="Here is another problem i’ve seen people solve once too many: Append one array to another. STOP. Revisit the problem. Can’t you simply use List and move on to solving actual business problems? In case you really can’t get rid of the arrays read the following
Given() { source = new[] { SourceElement }; destination = new[] { DestinationElement }; } and
When() { source.AppendTo(ref destination); } and
ThenTheDestinationShouldStillHaveTheDestinationElement() { Assert.AreEqual(DestinationElement, destination[0]); } and">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2009-12-04T00:00:00+00:00">
    <meta property="article:modified_time" content="2021-01-04T22:47:36+01:00">
    <meta property="article:tag" content="CSharp">
    <meta property="article:tag" content="Patterns">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="In case you really have to Append one array to another">
  <meta name="twitter:description" content="Here is another problem i’ve seen people solve once too many: Append one array to another. STOP. Revisit the problem. Can’t you simply use List and move on to solving actual business problems? In case you really can’t get rid of the arrays read the following
Given() { source = new[] { SourceElement }; destination = new[] { DestinationElement }; } and
When() { source.AppendTo(ref destination); } and
ThenTheDestinationShouldStillHaveTheDestinationElement() { Assert.AreEqual(DestinationElement, destination[0]); } and">
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="https://timvw.be/css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://timvw.be/js/main.js"></script>
	<link href="https://github.com/timvw" rel="me">
    <link href="https://timvw.be/" rel="me">
    <link href="https://fosstodon.org/@timvw" rel="me">
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="https://timvw.be/">Tim Van Wassenhove</a></h1>
	<div class="site-description"><p>Passionate geek, interested in Technology. Proud father of two</p><nav class="nav social">
			<ul class="flat"><li><a href="https://github.com/timvw" title="Github"><i data-feather="github"></i></a></li><li><a href="https://www.linkedin.com/in/timvanwassenhove" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="https://timvw.be/feed.xml" title="RSS"><i data-feather="rss"></i></a></li><li><a rel="me" href="https://fosstodon.org/@timvw" class="masto-link" ></a></li>
			</ul>
		
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="../../../../">Home</a>
			</li>
			
			<li>
				<a href="../../../../posts">All posts</a>
			</li>
			
			<li>
				<a href="../../../../tags">Tags</a>
			</li>
			
			<li>
				<a href="../../../../about/">About Me</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">04</span>
							<span class="rest">Dec 2009</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">In case you really have to Append one array to another</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>Here is another problem i&rsquo;ve seen people solve once too many: Append one array to another. STOP. Revisit the problem. Can&rsquo;t you simply use List<T> and move on to solving actual business problems? In case you really can&rsquo;t get rid of the arrays read the following</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Given<span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	source <span style="color:#1f2328">=</span> <span style="color:#cf222e">new</span><span style="color:#1f2328">[]</span> <span style="color:#1f2328">{</span> SourceElement <span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>	destination <span style="color:#1f2328">=</span> <span style="color:#cf222e">new</span><span style="color:#1f2328">[]</span> <span style="color:#1f2328">{</span> DestinationElement <span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>and</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>When<span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	source<span style="color:#1f2328">.</span>AppendTo<span style="color:#1f2328">(</span><span style="color:#cf222e">ref</span> destination<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>and</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>ThenTheDestinationShouldStillHaveTheDestinationElement<span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	Assert<span style="color:#1f2328">.</span>AreEqual<span style="color:#1f2328">(</span>DestinationElement<span style="color:#1f2328">,</span> destination<span style="color:#1f2328">[</span><span style="color:#0550ae">0</span><span style="color:#1f2328">]);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>and</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>ThenTheDestinationShouldHaveBeenExtendedWithTheSourceElement<span style="color:#1f2328">()</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	Assert<span style="color:#1f2328">.</span>AreEqual<span style="color:#1f2328">(</span>SourceElement<span style="color:#1f2328">,</span> destination<span style="color:#1f2328">[</span><span style="color:#0550ae">1</span><span style="color:#1f2328">]);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>And here is the code which satisfies the requirements</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#cf222e">public</span> <span style="color:#cf222e">static</span> <span style="color:#cf222e">class</span> <span style="color:#1f2328">Extensions</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#cf222e">public</span> <span style="color:#cf222e">static</span> <span style="color:#cf222e">void</span> AppendTo<span style="color:#1f2328">&lt;</span>t<span style="color:#1f2328">&gt;(</span><span style="color:#cf222e">this</span> T<span style="color:#1f2328">[]</span> sourceArray<span style="color:#1f2328">,</span> <span style="color:#cf222e">ref</span> T<span style="color:#1f2328">[]</span> destinationArray<span style="color:#1f2328">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">var</span> sourceLength <span style="color:#1f2328">=</span> sourceArray<span style="color:#1f2328">.</span>Length<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">var</span> destinationLength <span style="color:#1f2328">=</span> destinationArray<span style="color:#1f2328">.</span>Length<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#cf222e">var</span> extendedLength <span style="color:#1f2328">=</span> destinationLength <span style="color:#1f2328">+</span> sourceLength<span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>		Array<span style="color:#1f2328">.</span>Resize<span style="color:#1f2328">(</span><span style="color:#cf222e">ref</span> destinationArray<span style="color:#1f2328">,</span> extendedLength<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>		Array<span style="color:#1f2328">.</span>Copy<span style="color:#1f2328">(</span>sourceArray<span style="color:#1f2328">,</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">,</span> destinationArray<span style="color:#1f2328">,</span> destinationLength<span style="color:#1f2328">,</span> sourceLength<span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>Perhaps it&rsquo;s time to start (or does it exist already, cause i can&rsquo;t find it) an open-source project with extension methods.</p>

			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="../../../../tags/csharp">CSharp</a></li>
							
							<li><a href="../../../../tags/patterns">Patterns</a></li>
							
						</ul>
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>2025  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-9DP4SV12YW"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-9DP4SV12YW');
        }
      </script><script>feather.replace()</script>
</body>
</html>
