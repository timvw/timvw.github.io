<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pattern Matching on Tim Van Wassenhove</title>
    <link>https://timvw.be/tags/pattern-matching/</link>
    <description>Recent content in Pattern Matching on Tim Van Wassenhove</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 04 Jan 2021 22:47:36 +0100</lastBuildDate>
    <atom:link href="https://timvw.be/tags/pattern-matching/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>A parameterized active pattern to match the first elements of an array</title>
      <link>https://timvw.be/2014/01/30/a-parameterized-active-pattern-to-match-the-first-elements-of-an-array/</link>
      <pubDate>Thu, 30 Jan 2014 00:00:00 +0000</pubDate>
      <guid>https://timvw.be/2014/01/30/a-parameterized-active-pattern-to-match-the-first-elements-of-an-array/</guid>
      <description>&lt;p&gt;Been writing code in F# for almost a year and never blogged about it. Time to change that. Earlier today someone asked the following on twitter:&lt;/p&gt;&#xA;&lt;p&gt;&lt;quote&gt;Is it possible to pattern match the first part of an array in #FSharp? Something like | 1::2::3::tail but for arrays? #lazyweb&lt;/quote&gt;&lt;/p&gt;&#xA;&lt;p&gt;I accepted the challenge :)&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-fsharp&#34; data-lang=&#34;fsharp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#cf222e&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;(|&lt;/span&gt;Array&lt;span style=&#34;color:#0550ae&#34;&gt;|_|)&lt;/span&gt; pattern toMatch &lt;span style=&#34;color:#0550ae&#34;&gt;=&lt;/span&gt;      &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#953800&#34;&gt;patternLength&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#24292e&#34;&gt;Array&lt;/span&gt;&lt;span style=&#34;color:#1f2328&#34;&gt;.&lt;/span&gt;length pattern&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#953800&#34;&gt;toMatchLength&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#24292e&#34;&gt;Array&lt;/span&gt;&lt;span style=&#34;color:#1f2328&#34;&gt;.&lt;/span&gt;length toMatch&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#953800&#34;&gt;tailLength&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;=&lt;/span&gt; toMatchLength &lt;span style=&#34;color:#0550ae&#34;&gt;-&lt;/span&gt; patternLength&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;if&lt;/span&gt; patternLength &lt;span style=&#34;color:#0550ae&#34;&gt;&amp;gt;&lt;/span&gt; toMatchLength &lt;span style=&#34;color:#cf222e&#34;&gt;then&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;None&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;else&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;let&lt;/span&gt; &lt;span style=&#34;color:#953800&#34;&gt;firstElementsAreEqual&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;[&lt;/span&gt; 0 &lt;span style=&#34;color:#0550ae&#34;&gt;..&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;(&lt;/span&gt;patternLength &lt;span style=&#34;color:#0550ae&#34;&gt;-&lt;/span&gt; 1&lt;span style=&#34;color:#0550ae&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;|&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#24292e&#34;&gt;Seq&lt;/span&gt;&lt;span style=&#34;color:#1f2328&#34;&gt;.&lt;/span&gt;forall &lt;span style=&#34;color:#0550ae&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#cf222e&#34;&gt;fun&lt;/span&gt; i &lt;span style=&#34;color:#0550ae&#34;&gt;-&amp;gt;&lt;/span&gt; pattern&lt;span style=&#34;color:#0550ae&#34;&gt;.[&lt;/span&gt;i&lt;span style=&#34;color:#0550ae&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;=&lt;/span&gt; toMatch&lt;span style=&#34;color:#0550ae&#34;&gt;.[&lt;/span&gt;i&lt;span style=&#34;color:#0550ae&#34;&gt;])&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;if&lt;/span&gt; firstElementsAreEqual &lt;span style=&#34;color:#cf222e&#34;&gt;then&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&#x9;Some&lt;span style=&#34;color:#0550ae&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#24292e&#34;&gt;Array&lt;/span&gt;&lt;span style=&#34;color:#1f2328&#34;&gt;.&lt;/span&gt;sub toMatch patternLength tailLength&lt;span style=&#34;color:#0550ae&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&lt;span style=&#34;color:#cf222e&#34;&gt;else&lt;/span&gt; &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&#x9;None&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#cf222e&#34;&gt;match&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;[|&lt;/span&gt;1&lt;span style=&#34;color:#0550ae&#34;&gt;;&lt;/span&gt;2&lt;span style=&#34;color:#0550ae&#34;&gt;;&lt;/span&gt;3&lt;span style=&#34;color:#0550ae&#34;&gt;|]&lt;/span&gt; &lt;span style=&#34;color:#cf222e&#34;&gt;with&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#0550ae&#34;&gt;|&lt;/span&gt; Array &lt;span style=&#34;color:#f6f8fa;background-color:#82071e&#34;&gt;\&lt;/span&gt;&lt;span style=&#34;color:#0550ae&#34;&gt;[|&lt;/span&gt;1&lt;span style=&#34;color:#0550ae&#34;&gt;|]&lt;/span&gt; tail &lt;span style=&#34;color:#0550ae&#34;&gt;-&amp;gt;&lt;/span&gt; sprintf &lt;span style=&#34;color:#0a3069&#34;&gt;&amp;#34;bingo %i&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#0550ae&#34;&gt;(&lt;/span&gt;tail &lt;span style=&#34;color:#0550ae&#34;&gt;|&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#24292e&#34;&gt;Array&lt;/span&gt;&lt;span style=&#34;color:#1f2328&#34;&gt;.&lt;/span&gt;sum&lt;span style=&#34;color:#0550ae&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#57606a&#34;&gt;// the tail is [|2;3|\]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Or as a gist: &lt;a href=&#34;https://gist.github.com/timvw/8717796&#34;&gt;https://gist.github.com/timvw/8717796&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
