<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PHP on Tim Van Wassenhove</title>
    <link>https://timvw.be/tags/php/</link>
    <description>Recent content in PHP on Tim Van Wassenhove</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 27 Dec 2006 00:00:00 +0000</lastBuildDate><atom:link href="https://timvw.be/tags/php/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>An example of why i don&#39;t like the ext/filter API</title>
      <link>https://timvw.be/2006/12/27/an-example-of-why-i-dont-like-the-ext/filter-api/</link>
      <pubDate>Wed, 27 Dec 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/12/27/an-example-of-why-i-dont-like-the-ext/filter-api/</guid>
      <description>Earlier this week i decided to experiment with the Filter functions. Here&amp;rsquo;s an example that illustrates why i think the API needs to be improved
&amp;lt;?php $isgoodapi = filter_input(INPUT_GET, &amp;#39;isgoodapi&amp;#39;, FILTER_VALIDATE_BOOLEAN); if (is_null($isgoodapi)) { echo &amp;#34;the &amp;#39;isgoodapi&amp;#39; argument is missing.&amp;#34;; } else if ($isgoodapi === FALSE) { echo &amp;#34;The &amp;#39;isgoodapi&amp;#39; argument must be a valid boolean.&amp;#34;; } else { echo &amp;#34;isgoodapi is: $isgoodapi.&amp;#34;; } ?&amp;gt; And now you request the page with ?</description>
    </item>
    
    <item>
      <title>Generate a menu with month names</title>
      <link>https://timvw.be/2006/09/03/generate-a-menu-with-month-names/</link>
      <pubDate>Sun, 03 Sep 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/09/03/generate-a-menu-with-month-names/</guid>
      <description>I still see people building their calendar control or month (or day) picker with a hardcoded array of month (or day) names. With the use of strftime you can easily build a locale aware version. Here is an example
&amp;lt;?php function SelectMonths($name = &amp;#39;selectMonths&amp;#39;, $id = &amp;#39;selectMonths&amp;#39;) { $current_month = date(&amp;#39;n&amp;#39;); echo &amp;#39;&amp;lt;select name=&amp;#34;&amp;#39; . $name .&amp;#39;&amp;#34; id=&amp;#34;&amp;#39; . $id . &amp;#39;&amp;#34;&amp;gt;&amp;#39;; for ($i = 1; $i &amp;lt; 13; ++$i) { echo &amp;#39;&amp;lt;option value=&amp;#34;&amp;#39; .</description>
    </item>
    
    <item>
      <title>Dynamic CSS with PHP</title>
      <link>https://timvw.be/2006/08/27/dynamic-css-with-php/</link>
      <pubDate>Sun, 27 Aug 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/08/27/dynamic-css-with-php/</guid>
      <description>Both html and css are simply text. Thus you should be able to generate css as easily as html with php. Now if you add a reference to the css.php file in your html (eg: ) you&amp;rsquo;ll probably experience that your browser ignores the file. How is this possible? Here is an example of a simple css.php file
body { background-color: &amp;lt;?php echo &amp;#39;yellow&amp;#39;; ?&amp;gt;; } Here is a simulation of what your browser recieves when it requests the file:</description>
    </item>
    
    <item>
      <title>Allow a form to be posted only once</title>
      <link>https://timvw.be/2006/04/02/allow-a-form-to-be-posted-only-once/</link>
      <pubDate>Sun, 02 Apr 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/04/02/allow-a-form-to-be-posted-only-once/</guid>
      <description>People can fill in a form and submit it. Then they can hit their back button, and choose to submit it again. Usually the second time this form is being posted, the values in that form aren&amp;rsquo;t valid anymore and thus corrupt the database.
Most developpers i know try to work around this problem by using the header function or the html meta tags to set the expiration date. However, this solution does not only limit the usability of a site, it simply does not work for visitors that have a browser that ignores the expiration date.</description>
    </item>
    
    <item>
      <title>Using cmd.exe</title>
      <link>https://timvw.be/2006/04/01/using-cmd.exe/</link>
      <pubDate>Sat, 01 Apr 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/04/01/using-cmd.exe/</guid>
      <description>Earlier someone asked me how he could use windows cmd.exe with PHP. People run into trouble as soon as there are quotes needed because there are special characters (&amp;gt;/&amp;amp;()[]{}^=;!&amp;rsquo;+,`~ and ) in the command. I do it like this
&amp;lt;?php $result = `&amp;#34;&amp;#34;c:\\my path\\prog.exe&amp;#34; &amp;#34;filename&amp;#34;&amp;#34;`; ?&amp;gt; In case you have to do it often you might want to wrap it into a little function like this
&amp;lt;?php function cmd($command, $arguments = null) { $commandline = &amp;#39;&amp;#39;; foreach(func_get_args() as $word) { $commandline .</description>
    </item>
    
    <item>
      <title>Pagination for all</title>
      <link>https://timvw.be/2006/02/12/pagination-for-all/</link>
      <pubDate>Sun, 12 Feb 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/02/12/pagination-for-all/</guid>
      <description>Suppose you have a a large collection of items and you want to display them. Users don&amp;rsquo;t want to see 5000 items at once. They only want to see a couple of items and have the possibility to look at the next (or previous) couple of items. The solution for this problem is usually named pagination. You can compare this technique with paging. Most people seem to come up with their own (My)SQL specific implementation.</description>
    </item>
    
    <item>
      <title>Accept posted XML data</title>
      <link>https://timvw.be/2006/01/18/accept-posted-xml-data/</link>
      <pubDate>Wed, 18 Jan 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/01/18/accept-posted-xml-data/</guid>
      <description>I remember that i have spent a lot of time finding something that allowed me to accept the posted XML data. The solution was very simple
$data = file_get_contents(&amp;#34;php://input&amp;#34;); </description>
    </item>
    
    <item>
      <title>Brainteaser</title>
      <link>https://timvw.be/2006/01/14/brainteaser/</link>
      <pubDate>Sat, 14 Jan 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/01/14/brainteaser/</guid>
      <description>Earlier today Chung Leong, an intelligent regular at comp.lang.php, posted a little brainteaser:
The two functions in the example below behave differently. The difference is easy to spot, of ocurse. The challenge is correctly explaining why this is so. Why does the second function seemingly corrupt the cloned copy of an object?
function BritneySpear(&amp;amp;$obj) { $attr =&amp;amp; $obj-&amp;gt;attributes; $clone = /* clone */ $obj; $obj-&amp;gt;attributes[‘Length’] = 0; $obj-&amp;gt;data = “”; return $clone; } $data = “This is a test”; $obj1-&amp;gt;attributes = array(‘Length’ =&amp;gt; strlen($data)); $obj1-&amp;gt;data = $data; $clone1 = Bobcat($obj1); print_r($clone1); $obj2-&amp;gt;attributes = array(‘Length’ =&amp;gt; strlen($data)); $obj2-&amp;gt;data = $data; $clone2 = BritneySpear($obj2); print_r($clone2); ?</description>
    </item>
    
    <item>
      <title>How private is private really?</title>
      <link>https://timvw.be/2006/01/12/how-private-is-private-really/</link>
      <pubDate>Thu, 12 Jan 2006 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2006/01/12/how-private-is-private-really/</guid>
      <description>Today i ended up at private properties exposed (Apparently it is also used by PHPUnit)
class foo { private $bar = 42; } $obj = new foo; $propname=&amp;#34;\0foo\0bar&amp;#34;; $a = (array) $obj; echo $a[$propname]; </description>
    </item>
    
    <item>
      <title>Wordfinder</title>
      <link>https://timvw.be/2005/11/15/wordfinder/</link>
      <pubDate>Tue, 15 Nov 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/11/15/wordfinder/</guid>
      <description>I&amp;rsquo;ve noticed there are still a lot of shows on television that want you to find a word. So i wrote a little wordfinder that does this for you using the ispell wordlist. As always, you can download the wordfinder.txt.</description>
    </item>
    
    <item>
      <title>Changing the include_path</title>
      <link>https://timvw.be/2005/11/06/changing-the-include_path/</link>
      <pubDate>Sun, 06 Nov 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/11/06/changing-the-include_path/</guid>
      <description>PHP has a feature to change the include_path programatically. The problem is that the path separator is : on unix and ; on windows. Luckily there is a constant PATH_SEPARATOR to overcome this issue. Here is how i would do it
&amp;lt;?php ini_set(&amp;#39;error_reporting&amp;#39;, E_ALL); ini_set(&amp;#39;display_errors&amp;#39;, TRUE); $include_paths = array( &amp;#39;.&amp;#39;, &amp;#39;/home/users/timvw/phpincs&amp;#39;, &amp;#39;/home/users/timvw/pear&amp;#39;, ini_get(&amp;#39;include_path&amp;#39;) ); ini_set(&amp;#39;include_path&amp;#39;, implode(PATH_SEPARATOR, $include_paths)); ?&amp;gt; </description>
    </item>
    
    <item>
      <title>Introducing the masterpage</title>
      <link>https://timvw.be/2005/11/06/introducing-the-masterpage/</link>
      <pubDate>Sun, 06 Nov 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/11/06/introducing-the-masterpage/</guid>
      <description>Most websites have the same layout and an area with dynamic content. So most people choose for the following solution: generate a couple of template files for the static content and then write the code for the dynamic content and include the static templates. Here is how the code for a contact and an aboutme page would look like
contact.php
&amp;lt;?php include(&amp;#39;header.php&amp;#39;); include(&amp;#39;leftpanel.php&amp;#39;); // code for contact page include(&amp;#39;rightpanel.php&amp;#39;); include(&amp;#39;footer.php&amp;#39;); ?</description>
    </item>
    
    <item>
      <title>Odd behaviour with arrays</title>
      <link>https://timvw.be/2005/10/12/odd-behaviour-with-arrays/</link>
      <pubDate>Wed, 12 Oct 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/10/12/odd-behaviour-with-arrays/</guid>
      <description>A while ago i was really stumbled by the behaviour of a server. This problem solved itself after the sysadmin noticed that he forgot to upgrade ionCube after a php upgrade.Here is the code that i ran
$array = array(); $array[] = array(&amp;#39;name&amp;#39; =&amp;gt; &amp;#39;row1&amp;#39;, &amp;#39;value&amp;#39; =&amp;gt; &amp;#39;1&amp;#39;); $array[] = array(&amp;#39;name&amp;#39; =&amp;gt; &amp;#39;row2&amp;#39;, &amp;#39;value&amp;#39; =&amp;gt; &amp;#39;3&amp;#39;); $array[] = array(&amp;#39;name&amp;#39; =&amp;gt; &amp;#39;row3&amp;#39;, &amp;#39;value&amp;#39; =&amp;gt; &amp;#39;2&amp;#39;); foreach($array as $row) { print_r($row); echo &amp;#39;&amp;#39;; } The expected output is</description>
    </item>
    
    <item>
      <title>Currency convertor</title>
      <link>https://timvw.be/2005/08/29/currency-convertor/</link>
      <pubDate>Mon, 29 Aug 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/08/29/currency-convertor/</guid>
      <description>I discovered that the European Central Bank (ECB) has a page with Euro foreign exchange rates. I thought it would be a nice exercise to write a little script that works with the XML data source. Get currencyconvertor.txt now!</description>
    </item>
    
    <item>
      <title>Tests if $host is a proxy server</title>
      <link>https://timvw.be/2005/08/20/tests-if-host-is-a-proxy-server/</link>
      <pubDate>Sat, 20 Aug 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/08/20/tests-if-host-is-a-proxy-server/</guid>
      <description>Code: php/proxytester.txt</description>
    </item>
    
    <item>
      <title>Generating JavaScript strings</title>
      <link>https://timvw.be/2005/07/29/generating-javascript-strings/</link>
      <pubDate>Fri, 29 Jul 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/07/29/generating-javascript-strings/</guid>
      <description>Well, I&amp;rsquo;ve always experienced the generating JavaScript strings with PHP as a PITA. An example, which requires you to take care of the escaping of quotes, is the string: &amp;lsquo;O&amp;rsquo;Reilly has nice books&amp;rsquo;. Today i had this brilliant idea to do it as following:
&amp;lt;?php $str = addslashes(&amp;#34;Hello peter&amp;#39;s cats&amp;#34;); echo &amp;#34;&amp;lt;script type=&amp;#39;text/javascript&amp;#39;&amp;gt;&amp;#34;; echo &amp;#34;alert(&amp;#39;$str&amp;#39;)&amp;#34;; echo &amp;#34;&amp;#34;; ?&amp;gt; </description>
    </item>
    
    <item>
      <title>Read from STDIN without echoing the input back</title>
      <link>https://timvw.be/2005/07/24/read-from-stdin-without-echoing-the-input-back/</link>
      <pubDate>Sun, 24 Jul 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/07/24/read-from-stdin-without-echoing-the-input-back/</guid>
      <description>Today i was looking for a way to read passwords from a PHP-CLI script. So it was important the password didn&amp;rsquo;t appear on the console. I wrote a ttyecho function that uses stty to change the terminal line settings.</description>
    </item>
    
    <item>
      <title>Scriptable browser</title>
      <link>https://timvw.be/2005/07/10/scriptable-browser/</link>
      <pubDate>Sun, 10 Jul 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/07/10/scriptable-browser/</guid>
      <description>Last couple of days i have been trying out Simple Test. It allowed me stop stop echo and print_r variables all over the place. The package also has a Scriptable Browser.
At smscity.be you can earn credits each day. Therefor you have to visit their site and click some links. I wrote a smscity.txt script that does this for me.
Now all i had to do is make sure this script is executed each day, so i edited my crontab.</description>
    </item>
    
    <item>
      <title>I am the manual</title>
      <link>https://timvw.be/2005/07/06/i-am-the-manual/</link>
      <pubDate>Wed, 06 Jul 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/07/06/i-am-the-manual/</guid>
      <description>I found this in my inbox on my favorite PHP forum, DevNetwork
Hi timvw, you&amp;rsquo;ve won an award!
I Am The Manual Award
And the beauty is, you now have a badge to show for it! Smile
You can download it and use them as your avatar or in your signature:
Congratulations patrikG
Forum Rules How to get what you want! PHP Manual! This isn&amp;rsquo;t the code you&amp;rsquo;re looking for. </description>
    </item>
    
    <item>
      <title>Exploring the FTP functions</title>
      <link>https://timvw.be/2005/05/04/exploring-the-ftp-functions/</link>
      <pubDate>Wed, 04 May 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/05/04/exploring-the-ftp-functions/</guid>
      <description>I am still drowning in the work, and exams are coming close too, but i decided to blog something about the FTP functions in PHP. The script will download all the files that are available on the remote server.
// make sure we have time enough to execute this script set_time_limit(1200); // connect to the ftp server $ftp = ftp_connect(&amp;#39;ftp.scarlet.be&amp;#39;); ftp_login($ftp, &amp;#39;anonymous&amp;#39;, &amp;#39;password&amp;#39;); // get the files that are available here $local = glob(&amp;#39;*.</description>
    </item>
    
    <item>
      <title>More on recursion</title>
      <link>https://timvw.be/2005/03/04/more-on-recursion/</link>
      <pubDate>Fri, 04 Mar 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/03/04/more-on-recursion/</guid>
      <description>Yesterday i already wrote that an interative implementation for a recursive function is more efficient. And i gave you an example of the fibonacci function. Well, today i am here to present you an implementation for every recursive function.
class Math { // calculate the linear combination // fe: // coefficients = array(1, 2, 3) // values = array(4, 5, 6) // returns: (1 \* 4) + (2 \* 5) + (3 * 6) function lc($coefficients, $values) { if (count($coefficients) !</description>
    </item>
    
    <item>
      <title>Calculating Fibonacci</title>
      <link>https://timvw.be/2005/03/03/calculating-fibonacci/</link>
      <pubDate>Thu, 03 Mar 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/03/03/calculating-fibonacci/</guid>
      <description>What is a recursive function? It is a function where the value for input n is calculated as a linear combination of the previous 1, 2, &amp;hellip;, n-1 function values. An example is the fibonacci function: f(n) = f(n-1) + f(n-2).
If we program this our first code would look like:
function fibonacci($n) { if ($n &amp;lt; = 1) { return $n; } return fibonacci($n-1) + fibonacci($n-2); } It becomes clear that this is really inefficient.</description>
    </item>
    
    <item>
      <title>Elegantly generate SQL queries</title>
      <link>https://timvw.be/2005/02/02/elegantly-generate-sql-queries/</link>
      <pubDate>Wed, 02 Feb 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/02/02/elegantly-generate-sql-queries/</guid>
      <description>Code: php/elegantsql.txt</description>
    </item>
    
    <item>
      <title>Bypassing URL file-access is disabled</title>
      <link>https://timvw.be/2005/01/28/bypassing-url-file-access-is-disabled/</link>
      <pubDate>Fri, 28 Jan 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/01/28/bypassing-url-file-access-is-disabled/</guid>
      <description>For some odd reason this host has disabled URL file-access.
So i needed something simple to bypass this problem:
function fetch_url($url) { if (preg_match(&amp;#34;#^http://(.\*?)/(.\*)$#&amp;#34;, $url, $matches)) { $host = $matches[1]; $uri = $matches[2]; $msg = &amp;#34;GET /$uri HTTP/1.0\r\nHost: $host\r\n\r\n&amp;#34;; $fp = fsockopen($host, 80, $errno, $errstr, 10); fwrite($fp, $msg); $ignore = true; while (!feof($fp)) { $read = fgets($fp, 1024); if (!$ignore) { $contents .= $read; } if (preg_match(&amp;#34;^Content-Type: .*?\r\n&amp;#34;, $read)) { $ignore = false; } } fclose($fp); return $contents; } } </description>
    </item>
    
    <item>
      <title>Playing with XML and XSL</title>
      <link>https://timvw.be/2005/01/23/playing-with-xml-and-xsl/</link>
      <pubDate>Sun, 23 Jan 2005 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2005/01/23/playing-with-xml-and-xsl/</guid>
      <description>// add stuff to an xml document in php4 $doc = domxml_open_mem($xml); $root = $doc-&amp;gt;document_element(); $inner = $doc-&amp;gt;create_element(&amp;#39;inner&amp;#39;); $root = $root-&amp;gt;append_child($inner); // add stuff to an xml document in php5 $doc = new DomDocument(&amp;#39;1.0&amp;#39;, &amp;#39;UTF-8&amp;#39;); $doc-&amp;gt;loadXML($xml); $root = $doc-&amp;gt;getelementsByTagName(&amp;#39;resultset&amp;#39;)-&amp;gt;item(0); $inner = $doc-&amp;gt;createElement&amp;#39;inner&amp;#39;); $root = $root-&amp;gt;appendChild($inner); XHTML does not allow to have an empty list, . Therefore we need to test first if there are any nodes we want to put in that list.</description>
    </item>
    
    <item>
      <title>Basic download script</title>
      <link>https://timvw.be/2004/12/29/basic-download-script/</link>
      <pubDate>Wed, 29 Dec 2004 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2004/12/29/basic-download-script/</guid>
      <description>Code: php/download.txt</description>
    </item>
    
    <item>
      <title>One login at a time</title>
      <link>https://timvw.be/2004/07/16/one-login-at-a-time/</link>
      <pubDate>Fri, 16 Jul 2004 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2004/07/16/one-login-at-a-time/</guid>
      <description>Today someone asked: &amp;ldquo;In other words, how do we prevent two users from using the same password to access the same account at the same time?&amp;rdquo; You can read my answer in onlyone.txt</description>
    </item>
    
    <item>
      <title>Get all the languages a visitor accepts</title>
      <link>https://timvw.be/2004/06/26/get-all-the-languages-a-visitor-accepts/</link>
      <pubDate>Sat, 26 Jun 2004 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2004/06/26/get-all-the-languages-a-visitor-accepts/</guid>
      <description>Code: php/languages.txt</description>
    </item>
    
    <item>
      <title>A banner script</title>
      <link>https://timvw.be/2004/04/12/a-banner-script/</link>
      <pubDate>Mon, 12 Apr 2004 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2004/04/12/a-banner-script/</guid>
      <description>Recently i wrote a banner system that displays different banners based on the visitor&amp;rsquo;s country. It uses the remote address to find the country associated with that address (using geoip), and then it looks in the database to find a url for that country. If there is no such url, it looks up the default url. And finally it redirects the visitor to the url.</description>
    </item>
    
    <item>
      <title>Allow to select multiple items in a selectbox</title>
      <link>https://timvw.be/2003/12/19/allow-to-select-multiple-items-in-a-selectbox/</link>
      <pubDate>Fri, 19 Dec 2003 00:00:00 +0000</pubDate>
      
      <guid>https://timvw.be/2003/12/19/allow-to-select-multiple-items-in-a-selectbox/</guid>
      <description>Code: php/select-multiple.txt</description>
    </item>
    
  </channel>
</rss>
