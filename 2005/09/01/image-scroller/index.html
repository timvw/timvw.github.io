<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Image scroller - Tim Van Wassenhove</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta itemprop="name" content="Image scroller">
<meta itemprop="description" content="// &#43;————————————————————————— // | // | // | A javascript picture scroller // &#43;—————————————————————————  var i = 0; var pics = new Array(); // define the pictures you want to show (html id, image url, link url) pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top03.jpg’, ‘http://www.microsoft.com’); //pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top04.jpg’, ‘http://www.khleuven.be’); pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top05.jpg’, ‘/rss.php’); pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top11.jpg’, ”); // define the sleep interval var slow = 100; /** * global variables */ var lastindex = pics.">
<meta itemprop="datePublished" content="2005-09-01T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-01-20T07:37:16+01:00" />
<meta itemprop="wordCount" content="486">



<meta itemprop="keywords" content="JavaScript," />
<meta property="og:title" content="Image scroller" />
<meta property="og:description" content="// &#43;————————————————————————— // | // | // | A javascript picture scroller // &#43;—————————————————————————  var i = 0; var pics = new Array(); // define the pictures you want to show (html id, image url, link url) pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top03.jpg’, ‘http://www.microsoft.com’); //pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top04.jpg’, ‘http://www.khleuven.be’); pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top05.jpg’, ‘/rss.php’); pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top11.jpg’, ”); // define the sleep interval var slow = 100; /** * global variables */ var lastindex = pics." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://timvw.be/2005/09/01/image-scroller/" />
<meta property="article:published_time" content="2005-09-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-20T07:37:16+01:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Image scroller"/>
<meta name="twitter:description" content="// &#43;————————————————————————— // | // | // | A javascript picture scroller // &#43;—————————————————————————  var i = 0; var pics = new Array(); // define the pictures you want to show (html id, image url, link url) pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top03.jpg’, ‘http://www.microsoft.com’); //pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top04.jpg’, ‘http://www.khleuven.be’); pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top05.jpg’, ‘/rss.php’); pics[i&#43;&#43;] = new picture(‘pic’ &#43; i, ‘/images/scroller/top11.jpg’, ”); // define the sleep interval var slow = 100; /** * global variables */ var lastindex = pics."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://timvw.be/css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="https://timvw.be/css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://timvw.be/js/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
	<h1 class="site-title"><a href="https://timvw.be/">Tim Van Wassenhove</a></h1>
	<div class="site-description"><p>Passionate geek, interested in Technology. Proud father of two</p><nav class="nav social">
			<ul class="flat"><li><a href="https://twitter.com/timvw" title="Twitter"><i data-feather="twitter"></i></a></li><li><a href="https://github.com/timvw" title="Github"><i data-feather="github"></i></a></li><li><a href="https://www.linkedin.com/in/timvanwassenhove" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="https://timvw.be/feed.xml" title="RSS"><i data-feather="rss"></i></a></li></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="../../../../">Home</a>
			</li>
			
			<li>
				<a href="../../../../posts">All posts</a>
			</li>
			
			<li>
				<a href="../../../../tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">01</span>
							<span class="rest">Sep 2005</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Image scroller</h1>
				</div>
			</div>
					
			<div class="markdown">
				<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#998;font-style:italic">// +—————————————————————————
</span><span style="color:#998;font-style:italic">// | // |
</span><span style="color:#998;font-style:italic">// | A javascript picture scroller
</span><span style="color:#998;font-style:italic">// +—————————————————————————
</span><span style="color:#998;font-style:italic"></span>
<span style="color:#000;font-weight:bold">var</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
<span style="color:#000;font-weight:bold">var</span> pics <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> <span style="color:#0086b3">Array</span>();

<span style="color:#998;font-style:italic">// define the pictures you want to show (html id, image url, link url)
</span><span style="color:#998;font-style:italic"></span>pics[i<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> picture(<span style="color:#a61717;background-color:#e3d2d2">‘</span>pic<span style="color:#a61717;background-color:#e3d2d2">’</span> <span style="color:#000;font-weight:bold">+</span> i, <span style="color:#a61717;background-color:#e3d2d2">‘</span><span style="color:#000;font-weight:bold">/</span>images<span style="color:#000;font-weight:bold">/</span>scroller<span style="color:#000;font-weight:bold">/</span>top03.jpg<span style="color:#a61717;background-color:#e3d2d2">’</span>, <span style="color:#a61717;background-color:#e3d2d2">‘</span>http<span style="color:#000;font-weight:bold">:</span><span style="color:#998;font-style:italic">//www.microsoft.com’);
</span><span style="color:#998;font-style:italic">//pics[i++] = new picture(‘pic’ + i, ‘/images/scroller/top04.jpg’, ‘http://www.khleuven.be’);
</span><span style="color:#998;font-style:italic"></span>pics[i<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> picture(<span style="color:#a61717;background-color:#e3d2d2">‘</span>pic<span style="color:#a61717;background-color:#e3d2d2">’</span> <span style="color:#000;font-weight:bold">+</span> i, <span style="color:#a61717;background-color:#e3d2d2">‘</span><span style="color:#000;font-weight:bold">/</span>images<span style="color:#000;font-weight:bold">/</span>scroller<span style="color:#000;font-weight:bold">/</span>top05.jpg<span style="color:#a61717;background-color:#e3d2d2">’</span>, <span style="color:#a61717;background-color:#e3d2d2">‘</span><span style="color:#000;font-weight:bold">/</span>rss.php<span style="color:#a61717;background-color:#e3d2d2">’</span>);
pics[i<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> picture(<span style="color:#a61717;background-color:#e3d2d2">‘</span>pic<span style="color:#a61717;background-color:#e3d2d2">’</span> <span style="color:#000;font-weight:bold">+</span> i, <span style="color:#a61717;background-color:#e3d2d2">‘</span><span style="color:#000;font-weight:bold">/</span>images<span style="color:#000;font-weight:bold">/</span>scroller<span style="color:#000;font-weight:bold">/</span>top11.jpg<span style="color:#a61717;background-color:#e3d2d2">’</span>, <span style="color:#a61717;background-color:#e3d2d2">”</span>);

<span style="color:#998;font-style:italic">// define the sleep interval
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">var</span> slow <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">100</span>;

<span style="color:#998;font-style:italic">/**
</span><span style="color:#998;font-style:italic">* global variables
</span><span style="color:#998;font-style:italic">*/</span>
<span style="color:#000;font-weight:bold">var</span> lastindex <span style="color:#000;font-weight:bold">=</span> pics.length;
<span style="color:#000;font-weight:bold">var</span> pause;
<span style="color:#000;font-weight:bold">var</span> pictures;
<span style="color:#000;font-weight:bold">var</span> offset;
<span style="color:#000;font-weight:bold">var</span> left;

<span style="color:#998;font-style:italic">/**
</span><span style="color:#998;font-style:italic">* Scroll
</span><span style="color:#998;font-style:italic">*
</span><span style="color:#998;font-style:italic">* @param id the id in which the scroller should be drawn
</span><span style="color:#998;font-style:italic">*/</span>
<span style="color:#000;font-weight:bold">function</span> scroller(id)
{
	<span style="color:#998;font-style:italic">// load pictures
</span><span style="color:#998;font-style:italic"></span>	pictures <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> <span style="color:#0086b3">Array</span>(lastindex);
	<span style="color:#000;font-weight:bold">for</span> (i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> lastindex; <span style="color:#000;font-weight:bold">++</span>i)
	{
		pictures[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Image();
		pictures[i].src <span style="color:#000;font-weight:bold">=</span> pics[i].pictureurl;
	}

	offset <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.getElementById(id).offsetLeft <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">161</span>;

	<span style="color:#998;font-style:italic">// attach pictures to html, display:none
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">for</span> (i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> lastindex; <span style="color:#000;font-weight:bold">++</span>i)
	{
		purl <span style="color:#000;font-weight:bold">=</span> pics[i].pictureurl;
		lurl <span style="color:#000;font-weight:bold">=</span> pics[i].linkurl;
		pid <span style="color:#000;font-weight:bold">=</span> pics[i].id;
		ileft <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
		<span style="color:#0086b3">document</span>.getElementById(id).innerHTML <span style="color:#000;font-weight:bold">+=</span> <span style="color:#a61717;background-color:#e3d2d2">‘</span><span style="color:#000;font-weight:bold">&lt;</span>a href<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;’ + lurl + ‘&#34;</span><span style="color:#000;font-weight:bold">&gt;&lt;</span>img src<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;’ + purl + ‘&#34;</span> id<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;’ + pid + ‘&#34;</span> style<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;display: none; position: absolute; left:’ + ileft + ‘px; top: 27px;&#34;</span><span style="color:#000;font-weight:bold">/&gt;&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/a&gt;’;</span>
	}

	<span style="color:#998;font-style:italic">// start
</span><span style="color:#998;font-style:italic"></span>	pause <span style="color:#000;font-weight:bold">=</span> setInterval(<span style="color:#d14">&#34;start()&#34;</span>, <span style="color:#099">500</span>);
}

<span style="color:#998;font-style:italic">/**
</span><span style="color:#998;font-style:italic">* A container for a picture
</span><span style="color:#998;font-style:italic">*
</span><span style="color:#998;font-style:italic">* @param id the DOM id for this picture
</span><span style="color:#998;font-style:italic">* @param imageurl the URL where the picture can be found
</span><span style="color:#998;font-style:italic">* @param linkurl the URL where the user should be directed to if he clicks the picture
</span><span style="color:#998;font-style:italic">*/</span>
<span style="color:#000;font-weight:bold">function</span> picture(id, pictureurl, linkurl)
{
	<span style="color:#000;font-weight:bold">this</span>.id <span style="color:#000;font-weight:bold">=</span> id;
	<span style="color:#000;font-weight:bold">this</span>.pictureurl <span style="color:#000;font-weight:bold">=</span> pictureurl;
	<span style="color:#000;font-weight:bold">this</span>.linkurl <span style="color:#000;font-weight:bold">=</span> linkurl;
}

<span style="color:#998;font-style:italic">/**
</span><span style="color:#998;font-style:italic">* Determine of the pictures are ready to be displayed
</span><span style="color:#998;font-style:italic">*/</span>
<span style="color:#000;font-weight:bold">function</span> ready()
{
	<span style="color:#998;font-style:italic">// test if there is a picture that is not completely loaded
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">for</span> (i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> lastindex; <span style="color:#000;font-weight:bold">++</span>i)
	{
		id <span style="color:#000;font-weight:bold">=</span> pics[i].id;
		<span style="color:#000;font-weight:bold">if</span> (<span style="color:#000;font-weight:bold">!</span><span style="color:#0086b3">document</span>.getElementById(id).complete)
		{
			<span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>;
		}
	}
	<span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">true</span>;
}

<span style="color:#998;font-style:italic">/**
</span><span style="color:#998;font-style:italic">* Do the actual scrolling
</span><span style="color:#998;font-style:italic">*/</span>
<span style="color:#000;font-weight:bold">function</span> work()
{
	<span style="color:#998;font-style:italic">// move all the pictures to the left
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">for</span> (i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> lastindex; <span style="color:#000;font-weight:bold">++</span>i)
	{
		left[i] <span style="color:#000;font-weight:bold">-=</span> <span style="color:#099">1</span>;

		<span style="color:#998;font-style:italic">// if picture is out the container, position it at the right of the other pictures
</span><span style="color:#998;font-style:italic"></span>		<span style="color:#000;font-weight:bold">if</span> (left[i] <span style="color:#000;font-weight:bold">&lt;=</span> offset)
		{

			n <span style="color:#000;font-weight:bold">=</span> i <span style="color:#a61717;background-color:#e3d2d2">–</span> <span style="color:#099">1</span>;
			<span style="color:#000;font-weight:bold">if</span> (n <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">0</span>)
			{
				n <span style="color:#000;font-weight:bold">=</span> lastindex <span style="color:#a61717;background-color:#e3d2d2">–</span> <span style="color:#099">1</span>;
			}

			l <span style="color:#000;font-weight:bold">=</span> left[n];
			l <span style="color:#000;font-weight:bold">+=</span> pictures[n].width <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">10</span>;
			left[i] <span style="color:#000;font-weight:bold">=</span> l;
		}

		id <span style="color:#000;font-weight:bold">=</span> pics[i].id;
		ileft <span style="color:#000;font-weight:bold">=</span> left[i];
		<span style="color:#0086b3">document</span>.getElementById(id).style.left <span style="color:#000;font-weight:bold">=</span> ileft <span style="color:#000;font-weight:bold">+</span> <span style="color:#a61717;background-color:#e3d2d2">‘</span>px<span style="color:#a61717;background-color:#e3d2d2">’</span>;
	}
}

<span style="color:#998;font-style:italic">/**
</span><span style="color:#998;font-style:italic">* Start the scroller
</span><span style="color:#998;font-style:italic">*/</span>
<span style="color:#000;font-weight:bold">function</span> start()
{
	<span style="color:#000;font-weight:bold">if</span> (ready())
	{
		<span style="color:#0086b3">window</span>.clearInterval(pause);

		<span style="color:#998;font-style:italic">// calculate positions and make visible
</span><span style="color:#998;font-style:italic"></span>		left <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> <span style="color:#0086b3">Array</span>(lastindex);

		<span style="color:#000;font-weight:bold">for</span> (i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> lastindex; <span style="color:#000;font-weight:bold">++</span>i)
		{
			l <span style="color:#000;font-weight:bold">=</span> offset;
			<span style="color:#000;font-weight:bold">for</span> (n <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; n <span style="color:#000;font-weight:bold">&lt;</span> i; <span style="color:#000;font-weight:bold">++</span>n)
			{
				l <span style="color:#000;font-weight:bold">+=</span> pictures[n].width <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">10</span>;
			}
			left[i] <span style="color:#000;font-weight:bold">=</span> l;

			id <span style="color:#000;font-weight:bold">=</span> pics[i].id;
			ileft <span style="color:#000;font-weight:bold">=</span> left[i];
			<span style="color:#0086b3">document</span>.getElementById(id).style.display <span style="color:#000;font-weight:bold">=</span> <span style="color:#a61717;background-color:#e3d2d2">‘</span>inline<span style="color:#a61717;background-color:#e3d2d2">’</span>;
			<span style="color:#0086b3">document</span>.getElementById(id).style.left <span style="color:#000;font-weight:bold">=</span> ileft <span style="color:#000;font-weight:bold">+</span> <span style="color:#a61717;background-color:#e3d2d2">‘</span>px<span style="color:#a61717;background-color:#e3d2d2">’</span>;
		}

		<span style="color:#998;font-style:italic">// work
</span><span style="color:#998;font-style:italic"></span>		interval <span style="color:#000;font-weight:bold">=</span> setInterval(<span style="color:#a61717;background-color:#e3d2d2">‘</span>work();<span style="color:#a61717;background-color:#e3d2d2">’</span>, slow);
	}
}
</code></pre></div>
			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="../../../../tags/javascript">JavaScript</a></li>
							
						</ul>
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>2021  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-2585435-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script>feather.replace()</script>
</body>
</html>
