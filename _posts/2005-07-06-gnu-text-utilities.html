---
layout: post
status: publish
published: true
title: GNU text utilities
author:
  display_name: timvw
  login: admin
  email: tim@timvw.be
  url: http://timvw.myopenid.com/
author_login: admin
author_email: tim@timvw.be
author_url: http://timvw.myopenid.com/
wordpress_id: 101
wordpress_url: http://www.timvw.be/gnu-text-utilities/
date: '2005-07-06 01:55:45 +0200'
date_gmt: '2005-07-05 23:55:45 +0200'
categories: []
tags:
- Free Software
comments: []
---
<p>More and more i seem to recieve requests from people that need to manipulate some text files.<br />
And they don't feel like doing it manually. So here are some examples of how i used the<br />
<a href="http:&#47;&#47;www.gnu.org&#47;software&#47;textutils&#47;manual&#47;textutils&#47;textutils.html">GNU text utilities<&#47;a>: <&#47;p></p>
<p>I want to split the file below into one with the questions and one with the answers. This can be easily done: <&#47;p></p>
<pre>
Who is the manual.*I am<br />
Who am i.*The manual<br />
What was HLN's first #1 hit.*Power of love<br />
Which News man is the oldest.*Huey<br />
About how many months did it take to record Small World.*4<br />
Who wrote Jacob's Ladder.*Bruce Hornsby<br />
<&#47;pre></p>
<p>[code lang="bash"]<br />
cut -d "." -f1 trivia.txt > questions.txt<br />
cut -d "*" -f2 trivia.txt > answers.txt<br />
[&#47;code]</p>
<p>I want to know how many times people have logged in. With last i recieve output like below.<br />
I generate a top10 list:  <&#47;p></p>
<pre>
xabre    pts&#47;0        cable-213-132-14 Wed Jul  6 14:41   still logged in<br />
veurm    pts&#47;16       80.236.195.247   Wed Jul  6 14:28   still logged in<br />
timvw    pts&#47;6        ip-213-49-86-220 Wed Jul  6 14:21   still logged in<br />
ward     pts&#47;1        dd5768f62.access Wed Jul  6 14:04   still logged in<br />
bokkerij pts&#47;1        91.42-201-80.ads Wed Jul  6 13:57 - 14:00  (00:02)<br />
cowke    pts&#47;54       215-157.241.81.a Wed Jul  6 13:37    gone - no logout<br />
mette    pts&#47;51       ip-213-49-112-10 Wed Jul  6 13:36   still logged in<br />
esumlu   pts&#47;49       176.228-201-80.a Wed Jul  6 13:25   still logged in<br />
veurm    pts&#47;6        ip-213-49-84-129 Wed Jul  6 13:21 - 14:10  (00:49)<br />
trooperz pts&#47;6        160.148-136-217. Wed Jul  6 13:05 - 13:21  (00:15)<br />
gunther  pts&#47;40       d5153d0d9.access Wed Jul  6 12:28   still logged in<br />
timvw    pts&#47;34       ip-213-49-86-220 Wed Jul  6 11:02 - 14:21  (03:19)<br />
<&#47;pre></p>
<p>[code lang="bash"]<br />
last | cut -d " " -f1 | sort | uniq -c | sort -rn | head<br />
[&#47;code]</p>
<p>I want to use this file to generate two files, one for small galleries (<10 photos) and one for large<br />
galleries (>= 10 photos)<&#47;p></p>
<pre>
http:&#47;&#47;example.com&#47;gallery1|Fishing|18<br />
http:&#47;&#47;example.com&#47;gallery2|Fishing|5<br />
http:&#47;&#47;example.com&#47;gallery3|Fishing|6<br />
http:&#47;&#47;example.com&#47;gallery4|Fishing|5<br />
http:&#47;&#47;example.com&#47;gallery5|Fishing|35<br />
http:&#47;&#47;example.com&#47;gallery6|Fishing|2<br />
http:&#47;&#47;example.com&#47;gallery7|Fishing|1<br />
http:&#47;&#47;example.com&#47;gallery8|Fishing|9<br />
<&#47;pre></p>
<p>[code lang="bash"]<br />
grep  -E "(.*?)\|[0-9]{1}$" galleries.txt > small.txt<br />
grep -vE "(.*?)\|[0-9]{1}$" galleries.txt >large.txt<br />
[&#47;code]</p>
