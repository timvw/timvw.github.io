---
layout: post
status: publish
published: true
title: Anonymous methods
author:
  display_name: timvw
  login: admin
  email: tim@timvw.be
  url: http://timvw.myopenid.com/
author_login: admin
author_email: tim@timvw.be
author_url: http://timvw.myopenid.com/
wordpress_id: 8
wordpress_url: http://www.timvw.be/anonymous-methods/
date: '2006-09-16 02:01:46 +0200'
date_gmt: '2006-09-16 00:01:46 +0200'
categories: []
tags:
- C#
comments: []
---
<p>Suppose you add a couple of buttons to a panel as shown below. What do you think the message in the MessageBoxes will be?<&#47;p></p>
<p>[code lang="csharp"]public partial class Form1 : Form {<br />
 public Form1() {<br />
  InitializeComponent();</p>
<p>  for (int i = 0; i < 10; ++i) {<br />
   Button button = new Button();<br />
   button.Text = String.Format("{0:00}", i);<br />
   this.flowLayoutPanel1.Controls.Add( button );</p>
<p>   button.Click += new EventHandler(delegate(Object sender, EventArgs e) {<br />
    MessageBox.Show(String.Format("You clicked button {0:00}", i));<br />
   });<br />
  }<br />
 }<br />
}[&#47;code]</p>
<p>In case you're wondering why they all have the message "You clicked button 10" i suggest you read the following articles:<&#47;p></p>
<ul>
<li><a href="http:&#47;&#47;blogs.msdn.com&#47;oldnewthing&#47;archive&#47;2006&#47;08&#47;02&#47;686456.aspx">Part 1<&#47;a><&#47;li>
<li><a href="http:&#47;&#47;blogs.msdn.com&#47;oldnewthing&#47;archive&#47;2006&#47;08&#47;03&#47;687529.aspx">Part 2<&#47;a><&#47;li>
<li><a href="http:&#47;&#47;blogs.msdn.com&#47;oldnewthing&#47;archive&#47;2006&#47;08&#47;04&#47;688527.aspx">Part 3<&#47;a><&#47;li><br />
<&#47;ul></p>
