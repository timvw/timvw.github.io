---
layout: post
status: publish
published: true
title: Measuring elapsed time
author:
  display_name: timvw
  login: admin
  email: tim@timvw.be
  url: http://timvw.myopenid.com/
author_login: admin
author_email: tim@timvw.be
author_url: http://timvw.myopenid.com/
wordpress_id: 1045
wordpress_url: http://www.timvw.be/?p=1045
date: '2009-05-16 13:02:49 +0200'
date_gmt: '2009-05-16 12:02:49 +0200'
categories: []
tags:
- C#
comments: []
---
<p>As the documentation for <a href="http:&#47;&#47;msdn.microsoft.com&#47;en-us&#47;library&#47;system.diagnostics.stopwatch.aspx">System.Diagnostics.Stopwatch<&#47;a> says:<&#47;p></p>
<blockquote><p>In a typical Stopwatch scenario, you call the Start method, then eventually call the Stop method, and then you check elapsed time using the Elapsed property.<&#47;blockquote></p>
<p>I find it a shame that they didn't provide a method that covers this particular scenario so i did it myself:<&#47;p></p>
<p>[code lang="csharp"]public static class Stopwatch<br />
{<br />
 public static TimeSpan Measure(this Action action)<br />
 {<br />
  var stopwatch = new System.Diagnostics.Stopwatch();<br />
  stopwatch.Start();<br />
  action.Invoke();<br />
  stopwatch.Stop();<br />
  return stopwatch.Elapsed;<br />
 }<br />
}[&#47;code]</p>
<p>Consuming this method is as simple as:<&#47;p></p>
<p>[code lang="csharp"]var duration = Stopwatch.Measure(() => FindElement(10000));<br />
Console.WriteLine("It took {0:0} seconds.", duration.TotalSeconds);[&#47;code]</p>
